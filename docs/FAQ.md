# FAQ (Frequently Asked Questions)

!!! question
    If you don't find your question/answer here, please ask in [the Reactor category on the Vera Community Forums](https://community.getvera.com/c/plugins-and-plugin-development/reactor/178), and suggest that the question be added!

**None of my ReactorSensors is working and they all say "Safety Lockout!"**

:  Safety lockout occurs when Reactor detects that your system has reloaded/restarted too many times in a short period (10 times in 15 minutes by default). It is best to investigate the reason for this before proceeding. Sometimes this is caused by an errant device or bug in another plugin. It also can occur when you are renaming a lot of devices, or changing rooms assignments, or creating/modifying scenes, all of which cause Luup restarts (unfortunately). Waiting 15-20 minutes and restarting your system is usually sufficient to recover. If you are impatient, you can set the `rs` state variable on the Reactor master device to "0" and restart Luup, and everything will come back up right away.

**Why is there a yellow triangle in my ReactorSensor icon?**

:   The "trouble" icon overlay is meant to draw your attention to a problem with that ReactorSensor. There are many reasons for this, from a deleted device still mentioned in configuration to an error in a variable expression. You may need to do some digging to figure out why. The most reliable way to find that answer is to go to the *Tools* tab of your ReactorSensor, to the "Troubleshooting" section, and click the "Logic Summary" link. In the "Events" section of the generated report, you should find entries that clearly tell you why trouble was flagged.

**How many ReactorSensors can I create?**

:   ReactorSensors are child devices of the Reactor master device, and as such, the memory they take up is just their configuration and state. There is always only one copy of the Reactor code resident in memory no matter how many ReactorSensors you create, so it's very efficient. Think of it as paper stacked neatly on a desk &mdash; the first sheet takes up some of the desk's surface area, but each subsequent sheet only uses a little vertical space and no additional surface area. The author has tested with several hundred ReactorSensors on a Vera Plus without significantly impacting system performance.

**I want to run an action at a specific time, but there's no "At" operator in the time conditions. How do I do it?**

:   There's no "at" operator for time conditions because your timed activity would not run if the Vera was down at the specified time. Instead, use the "after" operator. That way, your condition will be met exactly at the specified time, or if the Vera is down, as soon as possible thereafter. Remember that actions only happen on *changes* of state, so using an "after" condition doesn't mean Reactor is going to run an associated activity repeatedly and continuously all day. It only runs once when the condition is met, and then will not run again until the condition has reset. Time conditions with no date specification always reset at midnight (so "after 6pm" is a synonym for "between 6pm and midnight", while "before 8am" is a synonym for "between midnight and 8am").

**Do I have to split my logic into mulitple ReactorSensors?**

:   That's up to you. You can create as many groups as you want within a ReactorSensor, so where long ago (version 1.x and 2.x) you may have been required to have two ReactorSensors, now you can have many groups within one ReactorSensor. Each group has its own logic and activities. Groups can refer to the state of other groups, so you can build logic rules incrementally. Structure your ReactorSensors in whatever way makes the most sense to you, and is easiest for you to maintain. My "house" system has typically one RS per room, and each has as many groups as needed to take care of all the logic in that room. I have a couple of "global" ReactorSensors that I keep in a "Virtual Devices" room to handle house-wide logic like "is it morning/daytime/evening/night?", and the other sensors refer to those "global" groups to handle their room-specific behaviors for those events. My home theater has specific needs, so it has two RS's, one for the room in general, and one for the AV system.

**Why does my Reactor master device say "CLOCK INVALID"**

:   Vera system hardware does not have a real time clock &mdash; a battery-backed clock that runs when the rest of the system is not running, and so keeps time across reboots and power outages. It relies on the Network Time Protocol (NTP) service to set and update the clock using Internet time servers. But it is possible for a Vera system to boot up when Internet access is unavailable/down, and in this case, the system time will be wildly off (technically, this also applies to openLuup systems running on hardware that doesn't have a real time clock). Testing on 7.31 reveals that Edge and Plus systems consistently come up with 1-Jan-2000 UTC dates when started without Internet access. The Unix/Linux default "zero time" is 1-Jan-1970 UTC. Reactor therefore can take a simple approach: if, at startup, the system clock reports to Reactor a time that is before the Reactor release date, Reactor will flag the clock as invalid and show a message to that effect on the Reactor master device. The Reactor master state variable `ClockValid` will be set to 0 (this can be tested from a ReactorSensor; it is normally 1 when the clock is valid). The ReactorSensor condition history will be wiped clean to avoid impossible time arithmetic against previously-stored, valid timestamps (i.e. it does a self-Restart). This means any previously-unfinished condition delays and sequences, and unfinished activities or scenes, all of which would normally complete after a reload, are instead abandoned and will not complete. All *Date/Time*, *Sunrise/Sunset* and *Weekday* conditions that are evaluated will produce invalid results due to the invalid system time. **If you have automations that rely on accurate time, you should include a check of `ClockValid` in the logic.** You may also wish to add a check and activity specifically for when `ClockValid` is 0 (i.e. a fallback task for when the clock is invalid). You can also stop Reactor from starting at all if the clock is invalid by setting `RequireValidClock` to 1 (default is 0); when 1, startup of Reactor will be delayed until the clock becomes valid.
:   The best way to mitigate against time-related problems is to set up a network time service in your LAN that's always available &mdash; a system with a good hardware real time clock, preferably UPS-backed &mdash; so that your Vera/openLuup system always has access to a reliable time server, even during the absence of Internet access. Many home and small-office NAS systems have this built-in and ready to be enabled. Although your local time server will still use network time servers for synchronization, their hardware clocks allow them to serve reasonably accurate time locally on the network even when syncing to those servers isn't available to them &mdash; something your Vera cannot do itself.

**Why does my ReactorSensor's Logic Summary say "CLOCK UNSTABLE"**

:   If Reactor detects that the system clock has been adjusted by more than 60 seconds in either direction (which is highly unusual), or Reactor starts up after a previous run detected an invalid system clock (see above), it will mark the clock "unstable" and cause these messages. Large adjustments to time can have dramatic effects on delays and sequence options in your conditions, so are worth noting in case an apparent malfunction sends you looking for the reason. This applies to both Vera and openLuup systems. Please note that DST changes are *not clock adjustments*, they are only changes to a flag that affects the math for converting from system time to human-readable time, but it doesn't actually change the system time itself (which is derived from UTC). DST changes will therefore never cause the clock to be marked unstable (it is possible, however, that clock adjustments can cause DST to "flap").
:   For Vera systems, the most common cause of bad clock adjustments is a rogue time server in the pool, but there is nothing we can do to mitigate this and the problem usually resolves itself fairly quickly (the pool detects this and eventually pushes the rogue out). For openLuup systems, the rogue time server problem is possible, as well as having your network time configuration disabled or set up to adjust/update with insufficient frequency to keep updates small.

**Why aren't my ReactorSensors controllable in the Vera Mobile apps/Imperihome/etc.?**

:   Unfortunately, the authors of these apps, which includes Vera itself, have to date hard-coded user interfaces for the "standard" device types Vera defines, plus a few exceptions. They have not taken the step of using the UI definition files that both standard and custom devices provide to make a user interface (dashboard card and control panel) in the web UI. This has been the way for many years, and at this point I believe is unlikely to change, as the current UI and firmware are now (as of February 2020) pretty much throw-away with entirely new and rewritten firmware on the horizon. Unfortunately, there is no sign as yet that Vera/eZLO will address these shortcomings in future firmware, either, and it may simply be that custom devices created by plugins never have support in the mobile applications.

**Here's what I want to do. Can you build the logic for me? I'll pay you!**

:   There are too many reasons not to do this, not the least of which is ongoing support of each person's house, and it doesn't make my user community any smarter and more capable themselves. I'm more of a ["teach a man to fish"](https://www.brainyquote.com/quotes/maimonides_326751) guy. I want *you* to become an expert, to the point where you help others build up to your acquired expertise.

**What's the difference between Reactor and PLEG?**

:   They are similar logic tools, with a different approach. PLEG has a more text-syntax-driven paradigm (a new language to learn that isn't Lua), where Reactor is more of a GUI-based tool (click and pick). Most users find Reactor easier to learn and use. Reactor is free, while PLEG is not. Reactor runs on openLuup, but PLEG is not available there. Reactor's source is available for inspection, while PLEG's is locked down (encrypted, unpublished), which opens the risk that at some future date its users may be left empty-handed without upgrades (and probably unhappy they spent money on it) if a firmware update breaks it. As it stands today (2020-02-15), PLEG's author has had very little significant contact on the community forums in the last year. Draw from that whatever conclusion you will. While PLEG is older and thus has a larger community of users to help, Reactor is gaining quickly, and any advantage enjoyed by PLEG in this regard is moot if the stops or is slow to support it. Historically, I've avoided making many of these last points in deference to the important contribution PLEG made back in the day &mdash; it was a very important tool in the early days of Vera &mdash; but as of now, its use appears to me to be a significant risk to its users going forward.

**Is there a tool to migrate my PLEG configuration to Reactor?**

:   No, and there likely never will be. That would be a significant engineering project on its own, perhaps bigger even than Reactor itself, and given that it needs to correctly support every error and oddity people may have in their PLEG configurations and produce an identical Reactor result, it's unlikely to be successful. It's also very likely to be a giant support nightmare. So, no...

**How long is a piece of string?**

:   The length of a piece of string is twice the distance from its center to either end.
